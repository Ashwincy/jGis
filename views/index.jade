doctype html
html
    head
        title #{title}
        script(type='text/javascript', src='/javascripts/jquery-1.11.0.js')
        script(type='text/javascript', src="//code.jquery.com/ui/1.10.4/jquery-ui.js")
        link(rel="stylesheet" href="//code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css")
        link(rel="stylesheet" href="/stylesheets/jgis.css")
        script(type='text/javascript', src='/javascripts/jgis.js')
        script.
            // TODO: SB find a better way of listening to readiness of jGis...
            jGis.ready = function() {
                if(jGis.getGis3DWidget()) {
                    jGis.getGis3DWidget().addLayer("Gelände", "/x3d/Palatin_Gelaende.x3d");
                    jGis.getGis3DWidget().addLayer("Nicht datiert", "/x3d/Palatin_nicht_datiert.x3d");
                    jGis.getGis3DWidget().addLayer("Frühe Kaiserzeit", "/x3d/Palatin_Phase02_fruehe_Kaiserzeit.x3d");
                    jGis.getGis3DWidget().addLayer("Flavisch 2", "/x3d/Palatin_Phase04_Flavisch2.x3d");
                    jGis.getGis3DWidget().addLayer("Flavisch 3", "/x3d/Palatin_Phase05_Flavisch3.x3d");
                    jGis.getGis3DWidget().addLayer("Phase 7", "/x3d/Palatin_Phase07_Anfang2Jh.x3d");

                    jGis.getGis3DWidget().showLayerWidget();
                }
            }

            $(function() {
                $("#nav_mode").buttonset();
                $("button").button().click(function( event ) {
                    event.preventDefault();
                    if(jGis.getGis3DWidget) {
                         jGis.getGis3DWidget().showAll();
                    }
                });

            });

            function setNavigationMode(navigationMode) {
                 if(jGis.getGis3DWidget) {
                    // set the navigation mode on the first gis3d canvas!
                     jGis.getGis3DWidget().setNavigationMode(navigationMode);
                 }
             }
        style.
            #toolbar_widget {
                padding: 4px;
                width: 800px;
                margin: 10px;
                float: left;
            }


    body
    block content
        h1 Welcome to #{title}

        // TODO: use a jquery ui toolbar!
        div#toolbar_widget(class="ui-widget-header ui-corner-all")
            button Show All
            span#nav_mode
                input(type="radio" name="nav_mode" id="examine" onclick='setNavigationMode("examine")' checked="checked")
                label(for="examine") Examine
                input(type="radio" name="nav_mode" id="fly" onclick='setNavigationMode("fly")')
                label(for="fly") Fly
                input(type="radio" name="nav_mode" id="game" onclick='setNavigationMode("game")')
                label(for="game") Game
                input(type="radio" name="nav_mode" id="helicopter" onclick='setNavigationMode("helicopter")')
                label(for="helicopter") Helicopter
                input(type="radio" name="nav_mode" id="lookAt" onclick='setNavigationMode("lookAt")')
                label(for="lookAt") LookAt
                input(type="radio" name="nav_mode" id="lookAround" onclick='setNavigationMode("lookAround")')
                label(for="lookAround") LookAround
                input(type="radio" name="nav_mode" id="walk" onclick='setNavigationMode("walk")')
                label(for="walk") Walk

        gis3d

